(this.webpackJsonppositimer=this.webpackJsonppositimer||[]).push([[0],{11:function(e,t,o){},13:function(e,t,o){},14:function(e,t,o){"use strict";o.r(t);var r=o(0),a=o.n(r),n=o(4),l=o.n(n),c=(o(11),o(2)),i=o(1),s=o.n(i),m=function(e){var t=e.workTime,o=e.lowerWorkTimeByOneMinute,r=e.raiseWorkTimeByOneMinute,n=s.a.duration(t,"s").asMinutes();return a.a.createElement("div",null,a.a.createElement("p",{id:"work-label"},"Work"),a.a.createElement("p",{id:"work-time"},n),a.a.createElement("button",{id:"work-lower",onClick:o},"-"),a.a.createElement("button",{id:"work-raise",onClick:r},"+"))},u=function(e){var t=e.breakTime,o=e.lowerBreakTimeByOneMinute,r=e.raiseBreakTimeByOneMinute,n=s.a.duration(t,"s").asMinutes();return a.a.createElement("div",null,a.a.createElement("p",{id:"break-label"},"Break"),a.a.createElement("p",{id:"break-time"},n),a.a.createElement("button",{id:"break-lower",onClick:o},"-"),a.a.createElement("button",{id:"break-raise",onClick:r},"+"))},d=o(5);o.n(d)()(s.a);var k=function(e){var t=e.handleStartStopClick,o=e.timerLabel,r=e.countdown,n=e.startStopButtonLabel,l=s.a.duration(r,"s").format("mm:ss",{trim:!1});return a.a.createElement("div",null,a.a.createElement("p",{id:"timer-label"},o),a.a.createElement("p",null,l),a.a.createElement("button",{onClick:t},n))};o(13);var w=function(){console.log("*********** Look! The App loaded! ***************");var e=Object(r.useRef)(null),t=Object(r.useState)("Work"),o=Object(c.a)(t,2),n=o[0],l=o[1],i=Object(r.useState)(null),s=Object(c.a)(i,2),d=s[0],w=s[1],g=Object(r.useState)(1500),h=Object(c.a)(g,2),b=h[0],f=h[1],p=Object(r.useState)(300),E=Object(c.a)(p,2),v=E[0],O=E[1],B=Object(r.useState)(b),S=Object(c.a)(B,2),y=S[0],T=S[1],j=Object(r.useState)(null),W=Object(c.a)(j,2),C=W[0],M=W[1],I=null!=d;return chrome.storage.local.get(["timer","start","isStarted"],(function(e){if(console.log("Look, there's a start: "+e.start),console.log("And a countdown timer: "+e.timer),console.log("Has it started? A: "+e.isStarted),e.isStarted&&(I=e.isStarted,console.log("Did we change isStarted? It's:"+I),T(e.timer),console.log("Hey look, there's also a timer with the chosen countdown: "+e.timer),console.log("Hey, there's also the start time: "+e.start+". Wonder what we should do with that?"),e.start)){var t=e.start+e.timer;console.log("Hey! I created an alarm time! It's: "+t),console.log("I wonder if we could do something with nextAlarm:"+C),M(t),console.log("And we changed nextAlarm: "+C)}})),Object(r.useEffect)((function(){T(b),console.log("Changed the Countdown to workTime because of useEffect: "+y),!0===I&&chrome.storage.local.get(["timer"],(function(e){T(e.timer),console.log("Changed the Countdown to the local storage timer: "+y)}))}),[b]),Object(r.useEffect)((function(){0===y&&(e.current.play(),"Work"===n?(l("Break"),T(v)):"Break"===n&&(l("Work"),T(b)))}),[v,n,b,y]),a.a.createElement("div",{className:"App"},a.a.createElement(m,{workTime:b,lowerWorkTimeByOneMinute:function(){console.log("Lower Work time by 1");var e=b-60;if(e<0)f(0);else{if(0===e)return;f(e)}},raiseWorkTimeByOneMinute:function(){console.log("Lower Work time by 1");var e=b+60;e<=3600&&f(e)}}),a.a.createElement(k,{workTime:b,breakTime:v,timerLabel:n,handleStartStopClick:function(){if(I)console.log("I clicked stop!"),clearInterval(d),T(b),l("Work"),w(null);else{var e=y/60;chrome.alarms.create({delayInMinutes:e}),chrome.alarms.onAlarm.addListener((function(e){alert("Time's up!")})),console.log("I clicked start!");var t=Date.now();console.log(t),chrome.storage.local.set({start:t,timer:y,isStarted:!0}),console.log("added now & countdown to local storage"),chrome.storage.local.get(["start","timer"],(function(e){console.log(e.start),console.log(e.timer)}));var o=setInterval((function(){T((function(e){return e-1}))}),100);w(o)}},startStopButtonLabel:I?"Stop":"Start",countdown:y}),a.a.createElement("p",null,a.a.createElement("button",{id:"reset",onClick:function(){console.log("clicked reset!"),chrome.storage.local.clear((function(){var e=chrome.runtime.lastError;e&&console.error(e)})),e.current.load(),clearInterval(d),w(null),l("Work"),f(1500),O(300),T(1500)}},"Reset")),a.a.createElement(u,{breakTime:v,lowerBreakTimeByOneMinute:function(){console.log("Lower Break time by 1");var e=v-60;if(e<0)O(0);else{if(0===e)return;O(e)}},raiseBreakTimeByOneMinute:function(){console.log("Raise Break time by 1");var e=v+60;e<=3600&&O(e)}}),a.a.createElement("audio",{id:"alarm",ref:e},a.a.createElement("source",{src:"https://www.soundjay.com/misc/sounds/magic-chime-01.mp3"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,o){e.exports=o(14)}},[[6,1,2]]]);
//# sourceMappingURL=main.e182a278.chunk.js.map